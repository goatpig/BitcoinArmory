# disable debug package, otherwise nasty build error in fedora >= 23
%global debug_package %{nil}

%define mybuildnumber %{?build_number}%{?!build_number:1}

Name:     BitcoinArmory
Version:  @VERSION@
Release:  %{mybuildnumber}%{?dist}
Summary:  A high-security Bitcoin wallet
Group:    Applications/Financial
License:  MIT
Source0:  BitcoinArmory-%{version}.tar.gz

BuildRequires: python-twisted, python-psutil, swig, python-devel, gcc-c++, PyQt4-devel
Requires:      PyQt4, python-twisted, python-psutil
%description
This is a local full node implementation of an advanced Bitcoin wallet.

%prep
%setup -q


%build
make PREFIX=%{_prefix}


%install
mkdir -p "%{buildroot}"/usr/share/applications
make PREFIX=%{_prefix} DESTDIR="%{buildroot}" install


%files
%defattr(-, root, root)
%{_datadir}/applications/*.desktop
%{_prefix}/lib/armory/*
%{_datadir}/armory/*
%attr(0755, root, root) %{_bindir}/*
